SetWorkingDir, %A_ScriptDir%
SetBatchLines, -1
SetControlDelay, -1
FileEncoding, UTF-8-RAW

oldcodes := Array(100909101, 100909002, 100909003, 100909004, 100909005, 100909006, 100909007, 100909008, 100909009, 100909010, 100909011, 100909012, 100909102, 100909014, 100909015, 100909016, 100909017, 100909018, 100909019, 100909020, 100909021, 100909022, 100909023, 100909024, 100909025, 100909104, 100909109, 100909028, 100909029, 100909030, 100909103, 100909107, 100909033, 100909034, 100909035, 100909036, 100909037, 100909038, 100909039, 100909040, 100909041, 100909042, 100909053, 100909105, 100909055, 100909056, 100909057, 100909058, 100909108, 100909060, 100909061, 100909110, 100909063, 100909064, 100909065, 100909066, 100909067, 100909068, 100909069, 100909070, 100909043, 100909044, 100909045, 100909046, 100909047, 100909048, 100909049, 100909050, 100909051, 100909052, 100909071, 100909072, 100909073, 100909111, 100909106, 100909076, 100909077, 100909078, 100909079, 100909080)

newcodes := Array(72708264, 9106362, 45591967, 71985676, 8384771, 34379489, 71863024, 7268133, 33656832, 41546, 46035545, 73534250, 9929398, 45313993, 72318602, 8706701, 35191415, 71696014, 7084129, 34079868, 60473572, 7868571, 33256280, 69351984, 96746083, 32134638, 69529337, 95923441, 32912040, 68406755, 94801854, 21296502, 67284107, 94689206, 20073910, 56562619, 93966624, 29951323, 56346071, 82744076, 28139785, 55623480, 11050415, 48444114, 74839123, 10833828, 47222536, 73616671, 111280, 46500985, 73594093, 9989792, 45383307, 72772445, 8267140, 35261759, 71650854, 7044562, 34449261, 60433216, 81612598, 28016193, 54401832, 80896904, 17994645, 53389254, 80773359, 16172067, 42566602, 85551711, 7922915, 33327029, 69711728, 96100333, 32104431, 69599136, 93083785, 31472884, 68477598, 94861297)

ReplaceIDs(content)
{
	global
	loop, % oldcodes.Length()
	{
		content := RegExReplace(content, oldcodes[A_Index], newcodes[A_Index])
	}
	return content
}

loop, Files, *.lua
{
	FileRead, FileContent, % A_LoopFileFullPath
	SplitPath, % A_LoopFileFullPath,,,, filename
	StringTrimLeft, cardid, filename, 1
	Tooltip % cardid
	if ( not cardid*1>0 )
		continue
	NewContent := ReplaceIDs(FileContent)
	;msgbox % NewContent
	FileDelete, % A_LoopFileFullPath
	FileAppend,% NewContent, *%A_LoopFileFullPath%
}

loop, % oldcodes.Length()
{
	oldcode:=oldcodes[A_Index]
	newcode:=newcodes[A_Index]
	FileMove, c%oldcode%.lua, c%newcode%.lua
}
